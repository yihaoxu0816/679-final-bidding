{"ast":null,"code":"import { deletePostsByUser } from \"./posts\";\n\n/**\n * This is a mock user collection.\n * It should be removed entirely when the backend is implemented.\n * \n * You should NOT use any local data structures to cache data\n * from the backend. All requests should go to the backend.\n */\nlet userCollection = [{\n  id: 'authorId1',\n  username: 'janedoe',\n  password: 'password1',\n  displayName: 'Jane Doe'\n}, {\n  id: 'authorId2',\n  username: 'jindo',\n  password: 'password2',\n  displayName: 'Jin Do'\n}];\n\n/**\n * Get a user by their ID.\n * @param {String} id - The ID of the user to get.\n * @returns {Promise<Object>} - The user object or undefined if not found.\n */\nconst getUserById = async id => {\n  return userCollection.find(user => user.id === id);\n};\n\n/**\n * Get all users.\n * @returns {Promise<Object[]>} - An array of user objects.\n */\nconst getUsers = async () => {\n  return userCollection;\n};\n\n/**\n * This function is used to create a new user.\n * @param {String} username - The username of the user to create.\n * @param {String} password - The password of the user to create.\n * @param {String} displayName - The display name of the user to create.\n * @returns {Promise<Object>} - The created user object.\n */\nconst createUser = async (username, password, displayName) => {\n  const id = new Date().getTime().toString();\n  const newUser = {\n    id,\n    username,\n    password,\n    displayName\n  };\n  userCollection.push(newUser);\n  return newUser;\n};\n\n/**\n * This function is used to update a user.\n * @param {String} id - The ID of the user to update.\n * @param {Object} updatedFields - The fields to update. \n *   Fields not included in the object will not be updated.\n * @returns {Promise<Object>} - The updated user object.\n * @throws {Error} - if user not found\n\n */\nconst updateUser = async (id, updatedFields) => {\n  const theUser = userCollection.find(user => user.id === id);\n  if (!theUser) {\n    throw new Error(`Can't update user. User with id ${id}not found`);\n  }\n  const updatedUser = {\n    ...theUser,\n    ...updatedFields\n  };\n  userCollection = userCollection.map(user => user.id === id ? updatedUser : user);\n  return updatedUser;\n};\n\n/**\n * This function is used to delete a user.\n * @param {String} id - The ID of the user to delete.\n * @returns {Promise<void>} - A promise that resolves when the user is deleted.\n */\nconst deleteUser = async id => {\n  userCollection = userCollection.filter(user => user.id !== id);\n  await deletePostsByUser(id);\n};\n\n/**\n * This function is used to validate a login.\n * @param {String} username - The username of the user to validate.\n * @param {String} password - The password of the user to validate.\n * @returns {Promise<Object>} - The user object.\n * @throws {Error} - If the user is not found or the password is incorrect.\n */\nconst validateLogin = async (username, password) => {\n  const user = userCollection.find(user => user.username === username);\n  if (!user) {\n    throw new Error(\"User not found\");\n  }\n  if (user.password !== password) {\n    throw new Error(\"Invalid password\");\n  }\n  return user;\n};\nexport { getUserById, getUsers, createUser, updateUser, deleteUser, validateLogin };","map":{"version":3,"names":["deletePostsByUser","userCollection","id","username","password","displayName","getUserById","find","user","getUsers","createUser","Date","getTime","toString","newUser","push","updateUser","updatedFields","theUser","Error","updatedUser","map","deleteUser","filter","validateLogin"],"sources":["/Users/andyxu/Desktop/fall2025/si679/proj-1-blogtastic-yihaoxu0816/client/src/data/users.js"],"sourcesContent":["import { deletePostsByUser } from \"./posts\";\n\n/**\n * This is a mock user collection.\n * It should be removed entirely when the backend is implemented.\n * \n * You should NOT use any local data structures to cache data\n * from the backend. All requests should go to the backend.\n */\nlet userCollection = [\n  {\n    id: 'authorId1',\n    username: 'janedoe',\n    password: 'password1',\n    displayName: 'Jane Doe'\n  },\n  {\n    id: 'authorId2',\n    username: 'jindo',\n    password: 'password2',\n    displayName: 'Jin Do',\n  },\n];\n\n/**\n * Get a user by their ID.\n * @param {String} id - The ID of the user to get.\n * @returns {Promise<Object>} - The user object or undefined if not found.\n */\nconst getUserById = async(id) => {\n  return userCollection.find((user) => user.id === id);\n};\n\n/**\n * Get all users.\n * @returns {Promise<Object[]>} - An array of user objects.\n */\nconst getUsers = async () => {\n  return userCollection;\n};\n\n/**\n * This function is used to create a new user.\n * @param {String} username - The username of the user to create.\n * @param {String} password - The password of the user to create.\n * @param {String} displayName - The display name of the user to create.\n * @returns {Promise<Object>} - The created user object.\n */\nconst createUser = async (username, password, displayName) => {\n  const id = new Date().getTime().toString();\n  const newUser = {\n    id, \n    username, \n    password,\n    displayName\n  };\n  userCollection.push(newUser);\n  return newUser;\n};\n\n/**\n * This function is used to update a user.\n * @param {String} id - The ID of the user to update.\n * @param {Object} updatedFields - The fields to update. \n *   Fields not included in the object will not be updated.\n * @returns {Promise<Object>} - The updated user object.\n * @throws {Error} - if user not found\n\n */\nconst updateUser = async (id, updatedFields) => {\n  const theUser = userCollection.find(user => user.id === id);\n  if (!theUser) {\n    throw new Error(`Can't update user. User with id ${id}not found`);\n  }\n  const updatedUser = {\n    ...theUser, \n    ...updatedFields\n  }\n  userCollection = userCollection.map(user => user.id === id ? updatedUser : user);\n  return updatedUser;\n};\n\n/**\n * This function is used to delete a user.\n * @param {String} id - The ID of the user to delete.\n * @returns {Promise<void>} - A promise that resolves when the user is deleted.\n */\nconst deleteUser = async (id) => {\n  userCollection = userCollection.filter(user => user.id !== id);\n  await deletePostsByUser(id);\n};\n\n/**\n * This function is used to validate a login.\n * @param {String} username - The username of the user to validate.\n * @param {String} password - The password of the user to validate.\n * @returns {Promise<Object>} - The user object.\n * @throws {Error} - If the user is not found or the password is incorrect.\n */\nconst validateLogin = async (username, password) => {\n  const user = userCollection.find(user => user.username === username);\n  if (!user) {\n    throw new Error(\"User not found\");\n  }\n  if (user.password !== password) {\n    throw new Error(\"Invalid password\");\n  }\n  return user;\n};\n\nexport {\n  getUserById,\n  getUsers,\n  createUser,\n  updateUser,\n  deleteUser,\n  validateLogin,\n};"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,SAAS;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIC,cAAc,GAAG,CACnB;EACEC,EAAE,EAAE,WAAW;EACfC,QAAQ,EAAE,SAAS;EACnBC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE;AACf,CAAC,EACD;EACEH,EAAE,EAAE,WAAW;EACfC,QAAQ,EAAE,OAAO;EACjBC,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE;AACf,CAAC,CACF;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMC,WAAW,GAAG,MAAMJ,EAAE,IAAK;EAC/B,OAAOD,cAAc,CAACM,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACN,EAAE,KAAKA,EAAE,CAAC;AACtD,CAAC;;AAED;AACA;AACA;AACA;AACA,MAAMO,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAC3B,OAAOR,cAAc;AACvB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMS,UAAU,GAAG,MAAAA,CAAOP,QAAQ,EAAEC,QAAQ,EAAEC,WAAW,KAAK;EAC5D,MAAMH,EAAE,GAAG,IAAIS,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;EAC1C,MAAMC,OAAO,GAAG;IACdZ,EAAE;IACFC,QAAQ;IACRC,QAAQ;IACRC;EACF,CAAC;EACDJ,cAAc,CAACc,IAAI,CAACD,OAAO,CAAC;EAC5B,OAAOA,OAAO;AAChB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAME,UAAU,GAAG,MAAAA,CAAOd,EAAE,EAAEe,aAAa,KAAK;EAC9C,MAAMC,OAAO,GAAGjB,cAAc,CAACM,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACN,EAAE,KAAKA,EAAE,CAAC;EAC3D,IAAI,CAACgB,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,mCAAmCjB,EAAE,WAAW,CAAC;EACnE;EACA,MAAMkB,WAAW,GAAG;IAClB,GAAGF,OAAO;IACV,GAAGD;EACL,CAAC;EACDhB,cAAc,GAAGA,cAAc,CAACoB,GAAG,CAACb,IAAI,IAAIA,IAAI,CAACN,EAAE,KAAKA,EAAE,GAAGkB,WAAW,GAAGZ,IAAI,CAAC;EAChF,OAAOY,WAAW;AACpB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAME,UAAU,GAAG,MAAOpB,EAAE,IAAK;EAC/BD,cAAc,GAAGA,cAAc,CAACsB,MAAM,CAACf,IAAI,IAAIA,IAAI,CAACN,EAAE,KAAKA,EAAE,CAAC;EAC9D,MAAMF,iBAAiB,CAACE,EAAE,CAAC;AAC7B,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMsB,aAAa,GAAG,MAAAA,CAAOrB,QAAQ,EAAEC,QAAQ,KAAK;EAClD,MAAMI,IAAI,GAAGP,cAAc,CAACM,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACL,QAAQ,KAAKA,QAAQ,CAAC;EACpE,IAAI,CAACK,IAAI,EAAE;IACT,MAAM,IAAIW,KAAK,CAAC,gBAAgB,CAAC;EACnC;EACA,IAAIX,IAAI,CAACJ,QAAQ,KAAKA,QAAQ,EAAE;IAC9B,MAAM,IAAIe,KAAK,CAAC,kBAAkB,CAAC;EACrC;EACA,OAAOX,IAAI;AACb,CAAC;AAED,SACEF,WAAW,EACXG,QAAQ,EACRC,UAAU,EACVM,UAAU,EACVM,UAAU,EACVE,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}