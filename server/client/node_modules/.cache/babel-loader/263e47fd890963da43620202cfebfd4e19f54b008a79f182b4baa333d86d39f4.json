{"ast":null,"code":"const API_URL=process.env.REACT_APP_API_URL||'http://localhost:6790';const ROOMS_ENDPOINT=\"\".concat(API_URL,\"/api/rooms\");const USERS_ENDPOINT=\"\".concat(API_URL,\"/api/users\");const AUTH_ENDPOINT=\"\".concat(API_URL,\"/api/auth\");const BIDS_ENDPOINT=\"\".concat(API_URL,\"/api/bids\");const buildUrlWithQuery=(url,queryParams)=>{const params=new URLSearchParams(queryParams);return\"\".concat(url,\"?\").concat(params.toString());};const handleGet=async function(url){let queryParams=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(queryParams){url=buildUrlWithQuery(url,queryParams);}const response=await fetch(\"\".concat(url));if(response.ok){return await response.json();}else{throw new Error(\"GET request to \".concat(url,\" failed: \").concat(response.statusText));}};const handlePost=async function(url,body){let queryParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let jwtToken=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(queryParams){url=buildUrlWithQuery(url,queryParams);}const headers={'Content-Type':'application/json'};// Add JWT token to headers if provided\nif(jwtToken){headers['Authorization']=\"Bearer \".concat(jwtToken);}const response=await fetch(url,{method:'POST',headers:headers,body:JSON.stringify(body)});if(response.ok){const contentType=response.headers.get('content-type');if(contentType&&contentType.includes('application/json')){return await response.json();}return null;}else{throw new Error(\"POST request to \".concat(url,\" failed: \").concat(response.statusText));}};const handleDelete=async function(url){let queryParams=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;let jwtToken=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(queryParams){url=buildUrlWithQuery(url,queryParams);}const headers={};if(jwtToken){headers['Authorization']=\"Bearer \".concat(jwtToken);}const response=await fetch(url,{method:'DELETE',headers:headers});if(response.ok){return response.statusText;}else{throw new Error(\"DELETE request to \".concat(url,\" failed: \").concat(response.statusText));}};const handlePatch=async function(url,body){let queryParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;let jwtToken=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;if(queryParams){url=buildUrlWithQuery(url,queryParams);}const headers={'Content-Type':'application/json'};if(jwtToken){headers['Authorization']=\"Bearer \".concat(jwtToken);}const response=await fetch(url,{method:'PATCH',headers:headers,body:JSON.stringify(body)});if(response.ok){const contentType=response.headers.get('content-type');if(contentType&&contentType.includes('application/json')){return await response.json();}return null;}else{throw new Error(\"PATCH request to \".concat(url,\" failed: \").concat(response.statusText));}};export{handleGet,handlePost,handleDelete,handlePatch,API_URL,ROOMS_ENDPOINT,USERS_ENDPOINT,AUTH_ENDPOINT,BIDS_ENDPOINT};","map":{"version":3,"names":["API_URL","process","env","REACT_APP_API_URL","ROOMS_ENDPOINT","concat","USERS_ENDPOINT","AUTH_ENDPOINT","BIDS_ENDPOINT","buildUrlWithQuery","url","queryParams","params","URLSearchParams","toString","handleGet","arguments","length","undefined","response","fetch","ok","json","Error","statusText","handlePost","body","jwtToken","headers","method","JSON","stringify","contentType","get","includes","handleDelete","handlePatch"],"sources":["/Users/andyxu/Desktop/fall2025/si679/679-final-bidding/server/client/src/data/api.js"],"sourcesContent":["const API_URL = process.env.REACT_APP_API_URL || 'http://localhost:6790';\nconst ROOMS_ENDPOINT = `${API_URL}/api/rooms`;\nconst USERS_ENDPOINT = `${API_URL}/api/users`;\nconst AUTH_ENDPOINT = `${API_URL}/api/auth`;\nconst BIDS_ENDPOINT = `${API_URL}/api/bids`;\n\nconst buildUrlWithQuery = (url, queryParams) => {\n  const params = new URLSearchParams(queryParams);\n  return `${url}?${params.toString()}`;\n}\n\nconst handleGet = async (url, queryParams = null) => {\n  if (queryParams) {\n    url = buildUrlWithQuery(url, queryParams);\n  }\n  const response = await fetch(`${url}`);\n  if (response.ok) {\n    return await response.json();\n  } else {\n    throw new Error(`GET request to ${url} failed: ${response.statusText}`);\n  }\n}\n\nconst handlePost = async (url, body, queryParams = null, jwtToken = null) => {\n  if (queryParams) {\n    url = buildUrlWithQuery(url, queryParams);\n  }\n  \n  const headers = {\n    'Content-Type': 'application/json',\n  };\n  \n  // Add JWT token to headers if provided\n  if (jwtToken) {\n    headers['Authorization'] = `Bearer ${jwtToken}`;\n  }\n  \n  const response = await fetch(url, {\n    method: 'POST',\n    headers: headers,\n    body: JSON.stringify(body),\n  });\n  \n  if (response.ok) {\n    const contentType = response.headers.get('content-type');\n    if (contentType && contentType.includes('application/json')) {\n      return await response.json();\n    }\n    return null;\n  } else {\n    throw new Error(`POST request to ${url} failed: ${response.statusText}`);\n  }\n};\n\nconst handleDelete = async (url, queryParams = null, jwtToken = null) => {\n  if (queryParams) {\n    url = buildUrlWithQuery(url, queryParams);\n  }\n  const headers = {};\n    if (jwtToken) {\n    headers['Authorization'] = `Bearer ${jwtToken}`;\n  }\n  \n  const response = await fetch(url, {\n    method: 'DELETE',\n    headers: headers,\n  });\n  \n  if (response.ok) {\n    return response.statusText;\n  } else {\n    throw new Error(`DELETE request to ${url} failed: ${response.statusText}`);\n  }\n};\n\nconst handlePatch = async (url, body, queryParams = null, jwtToken = null) => {\n  if (queryParams) {\n    url = buildUrlWithQuery(url, queryParams);\n  }\n  \n  const headers = {\n    'Content-Type': 'application/json',\n  };\n  if (jwtToken) {\n    headers['Authorization'] = `Bearer ${jwtToken}`;\n  }\n  \n  const response = await fetch(url, {\n    method: 'PATCH',\n    headers: headers,\n    body: JSON.stringify(body),\n  });\n  \n  if (response.ok) {\n    const contentType = response.headers.get('content-type');\n    if (contentType && contentType.includes('application/json')) {\n      return await response.json();\n    }\n    return null;\n  } else {\n    throw new Error(`PATCH request to ${url} failed: ${response.statusText}`);\n  }\n};\n\nexport { \n  handleGet, \n  handlePost, \n  handleDelete,\n  handlePatch,\n  API_URL,\n  ROOMS_ENDPOINT, \n  USERS_ENDPOINT,\n  AUTH_ENDPOINT,\n  BIDS_ENDPOINT\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}