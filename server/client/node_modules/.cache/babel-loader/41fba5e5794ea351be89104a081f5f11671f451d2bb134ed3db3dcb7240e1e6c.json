{"ast":null,"code":"import{useNavigate}from\"react-router-dom\";import{useContext,useState}from\"react\";import{CurrentUserContext}from\"../App\";import{loginUser,registerUser}from\"../data/users\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const{setCurrentUser}=useContext(CurrentUserContext);const navigate=useNavigate();const[errorMessage,setErrorMessage]=useState(\"\");const[successMessage,setSuccessMessage]=useState(\"\");const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[isRegisterMode,setIsRegisterMode]=useState(false);const handleLogin=async()=>{try{setErrorMessage(\"\");setSuccessMessage(\"\");const user=await loginUser(username,password);if(user){setCurrentUser(user);navigate(\"/\");}else{setErrorMessage(\"Error validating login.\");}}catch(error){setErrorMessage(error.message);}};const handleRegister=async()=>{try{setErrorMessage(\"\");setSuccessMessage(\"\");await registerUser(username,password);setSuccessMessage(\"Registration successful! You can now login.\");setIsRegisterMode(false);setPassword(\"\");}catch(error){setErrorMessage(error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"content-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:isRegisterMode?\"Register\":\"Login\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),successMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"success-message\",children:successMessage}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{onClick:isRegisterMode?handleRegister:handleLogin,children:isRegisterMode?\"Register\":\"Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"toggle-mode\",children:isRegisterMode?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Already have an account?\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"toggle-link\",onClick:()=>{setIsRegisterMode(false);setErrorMessage(\"\");setSuccessMessage(\"\");},children:\"Login here\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"toggle-link\",onClick:()=>{setIsRegisterMode(true);setErrorMessage(\"\");setSuccessMessage(\"\");},children:\"Register here\"})]})})]})]});}export default Login;","map":{"version":3,"names":["useNavigate","useContext","useState","CurrentUserContext","loginUser","registerUser","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Login","setCurrentUser","navigate","errorMessage","setErrorMessage","successMessage","setSuccessMessage","username","setUsername","password","setPassword","isRegisterMode","setIsRegisterMode","handleLogin","user","error","message","handleRegister","className","children","htmlFor","type","name","id","value","onChange","e","target","required","onClick"],"sources":["/Users/andyxu/Desktop/fall2025/si679/679-final-bidding/server/client/src/pages/login.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport { useContext, useState } from \"react\";\n\nimport { CurrentUserContext } from \"../App\";\nimport { loginUser, registerUser } from \"../data/users\";\n\nfunction Login() {\n  const { setCurrentUser } = useContext(CurrentUserContext);\n  const navigate = useNavigate();\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isRegisterMode, setIsRegisterMode] = useState(false);\n\n  const handleLogin = async () => {\n    try {\n      setErrorMessage(\"\");\n      setSuccessMessage(\"\");\n      \n      const user = await loginUser(username, password);\n      if (user) {\n        setCurrentUser(user);\n        navigate(\"/\");\n      } else {\n        setErrorMessage(\"Error validating login.\");\n      }\n    } catch (error) {\n      setErrorMessage(error.message);\n    }\n  };\n\n  const handleRegister = async () => {\n    try {\n      setErrorMessage(\"\");\n      setSuccessMessage(\"\");\n      \n      await registerUser(username, password);\n      setSuccessMessage(\"Registration successful! You can now login.\");\n      setIsRegisterMode(false);\n      setPassword(\"\");\n    } catch (error) {\n      setErrorMessage(error.message);\n    }\n  };\n\n  return (\n    <div className=\"content-container\">\n      <h1>{isRegisterMode ? \"Register\" : \"Login\"}</h1>\n      \n      {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\n      {successMessage && <p className=\"success-message\">{successMessage}</p>}\n      \n      <div className=\"login-form\">\n        <label htmlFor=\"username\">Username</label>\n        <input \n          type=\"text\" \n          name=\"username\" \n          id=\"username\" \n          value={username} \n          onChange={(e) => setUsername(e.target.value)} \n          required\n        />\n        \n        <label htmlFor=\"password\">Password</label>\n        <input \n          type=\"password\" \n          name=\"password\" \n          id=\"password\" \n          value={password} \n          onChange={(e) => setPassword(e.target.value)} \n          required \n        />\n        \n        <button onClick={isRegisterMode ? handleRegister : handleLogin}>\n          {isRegisterMode ? \"Register\" : \"Login\"}\n        </button>\n        \n        <p className=\"toggle-mode\">\n          {isRegisterMode ? (\n            <>\n              Already have an account?{\" \"}\n              <span \n                className=\"toggle-link\" \n                onClick={() => {\n                  setIsRegisterMode(false);\n                  setErrorMessage(\"\");\n                  setSuccessMessage(\"\");\n                }}\n              >\n                Login here\n              </span>\n            </>\n          ) : (\n            <>\n              Don't have an account?{\" \"}\n              <span \n                className=\"toggle-link\" \n                onClick={() => {\n                  setIsRegisterMode(true);\n                  setErrorMessage(\"\");\n                  setSuccessMessage(\"\");\n                }}\n              >\n                Register here\n              </span>\n            </>\n          )}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}